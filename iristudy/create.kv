#:kivy 2.1.0
#:import utils kivy.utils

<Pop>:
    BoxLayout:
        # sthav
        Label:
            text: "You pressed the button"
            size_hint: (0.6, 0.2)
            pos_hint: {"x": 0.2, "top": 1}

        Button:
            text: "button"
            size_hint: (0.8, 0.2)
            pos_hint: {"x":0.1, "y": 0.1}

<CreateFormScreen>
    groupName: groupName
    # subject: subject
    description: description
    
    FloatLayout:
        size: root.width, root.height
        canvas.before: 
            Color: 
                rgb: utils.get_color_from_hex('#F1E6F8')
            Rectangle:
                pos: self.pos
                size: self.size
        
        #top header to go back to homepage
        Label:
            size_hint: (1, .06)
            pos_hint: {"right": 1, "top":1}
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex('#BF98D1')
                Rectangle: 
                    pos: self.pos
                    size: self.size
        Button: 
            size_hint:(.55, .05)
            pos_hint: {"center_x":.5, "top":1}
            background_normal: ""
            background_color: utils.get_color_from_hex('#BF98D1')
            on_press: self.background_color = (1.2, 1.2, 1, 0)
            on_release: self.background_color = utils.get_color_from_hex('#BF98D1')
            on_press: app.root.current = 'home'
            canvas:
                Rectangle:
                    source: "assets/images/logoontop.png"
                    size: self.size
                    pos: self.pos
        
        Label:
            size_hint: (1, 0.18)
            pos_hint: {"x":0, "top":1}
            text: "Create a group"


        # buttons 
        Label:
            size_hint: (0.1, 0.15)
            pos_hint: {"x": 0.13, "top": 0.85}
            text: "Group Name: "
        TextInput:
            size_hint: (0.9, 0.05)
            pos_hint: {"x": 0.03, "y":0.7}
            hint_text: "Group name"
            id: groupName
            multiline: False
            cursor_color: utils.get_color_from_hex('#7F31A3')

        Label:
            size_hint: (0.1, 0.15)
            pos_hint: {"x": 0.13, "top": 0.75}
            text: "Subject: "
        Label:
            size_hint: (0.1, 0.15)
            pos_hint: {"x": 0.3, "y": 0.55}
            text: "Subject dropdown holder"
            # give id = subject
            # DropDown:
            #     id: subject
            #     Button:
            #         text: 'My first Item'
            #         size_hint_y: None
            #         height: 44
            #         on_release: root.select('item1')
            #     Label:
            #         text: 'Unselectable item'
            #         size_hint_y: None
            #         height: 44
            #     Button:
            #         text: 'My second Item'
            #         size_hint_y: None
            #         height: 44
            #         on_release: root.select('item2')
        

        Label:
            size_hint: (0.1, 0.15)
            pos_hint: {"x": 0.13, "top": 0.65}
            text: "Meeting time: "
        Button:
            size_hint: (0.5, 0.06)
            pos_hint: {"x": 0.2, "y": 0.475}
            text: "Choose a time"
            on_release: root.popUp()

        Label:
            size_hint: (0.1, 0.15)
            pos_hint: {"x": 0.13, "top": 0.85}
            text: "Description: "
        TextInput:
            size_hint: (0.9, 0.18)
            pos_hint: {"x": 0.03, "y": 0.26}
            hint_text: "Description"
            id: description
            multiline: True
            cursor_color: utils.get_color_from_hex('#7F31A3')


        Button:
            size_hint: (1, 0.1)
            pos_hint: {"x":0, "y": 0}
            text: "Submit"
            on_press: root.submit()

                # assign a group id randomly if the submission is valid

